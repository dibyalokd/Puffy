<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Task Memory Chat</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
</head>
<body>

<h2>ğŸ’¬ Task Memory Chat</h2>

<div class="chat-wrapper">

    <!-- Chat Area -->
    <div class="chat-container" id="chat-container">

        <div class="chat-message ai">
            ğŸ‘‹ I remember everything you recorded. Ask me anything.
        </div>

        {% if chat_history %}
            {% for msg in chat_history %}
                <div class="chat-message {{ msg.role }}">
                    {{ msg.content }}
                </div>
            {% endfor %}
        {% endif %}

        <!-- Typing indicator (shown before submit only) -->
        <div class="chat-message ai typing" id="typing-indicator">
            <span></span><span></span><span></span>
        </div>

    </div>

    <!-- Input -->
    <form method="POST" class="chat-input" id="chat-form">
        <input
            name="query"
            id="chat-input"
            type="text"
            placeholder="Ask about your work..."
            autocomplete="off"
            autofocus
            required
        >
        <button type="submit">Send</button>
    </form>

</div>

<br>
<a href="/">â¬… Back</a>

<script>
    const chatContainer = document.getElementById("chat-container");
    const typingIndicator = document.getElementById("typing-indicator");
    const input = document.getElementById("chat-input");

    // Always scroll to bottom on load
    chatContainer.scrollTop = chatContainer.scrollHeight;

    // Always focus input on load
    input.focus();

    // Show typing indicator JUST BEFORE submit
    document.getElementById("chat-form").addEventListener("submit", function () {
        typingIndicator.style.display = "flex";
        setTimeout(() => {
            chatContainer.scrollTop = chatContainer.scrollHeight;
        }, 50);
        // IMPORTANT: do NOT prevent default
    });
</script>

</body>
</html>

:::::::::::::::::::

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Task Memory Chat</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
</head>
<body>

<h2>ğŸ’¬ Task Memory Chat</h2>

<div class="chat-wrapper">

    <!-- Chat Area -->
    <div class="chat-container" id="chat-container">

        <div class="chat-message ai">
            ğŸ‘‹ I remember everything you recorded. Ask me anything.
        </div>

        {% if chat_history %}
            {% for msg in chat_history %}
                <div class="chat-message {{ msg.role }}">
                    {{ msg.content }}
                </div>
            {% endfor %}
        {% endif %}

        <!-- Typing indicator -->
        <div class="chat-message ai typing" id="typing-indicator">
            <span></span><span></span><span></span>
        </div>

    </div>

    <!-- Input -->
    <form method="POST" class="chat-input" id="chat-form">
        <input
            name="query"
            id="chat-input"
            type="text"
            placeholder="Ask about your work..."
            autocomplete="off"
            autofocus
            required
        >
        <button type="submit">Send</button>
    </form>

</div>

<br>
<a href="/">â¬… Back</a>

<script>
    const chatContainer = document.getElementById("chat-container");
    const input = document.getElementById("chat-input");
    const typingIndicator = document.getElementById("typing-indicator");
    const form = document.getElementById("chat-form");

    // Always scroll to bottom on load
    chatContainer.scrollTop = chatContainer.scrollHeight;

    // Always focus input on load
    input.focus();

    form.addEventListener("submit", function () {
        const text = input.value.trim();
        if (!text) return;

        // 1ï¸âƒ£ Show user message immediately
        const userBubble = document.createElement("div");
        userBubble.className = "chat-message user";
        userBubble.textContent = text;
        chatContainer.appendChild(userBubble);

        // 2ï¸âƒ£ Show typing indicator
        typingIndicator.style.display = "flex";
        chatContainer.appendChild(typingIndicator);

        // 3ï¸âƒ£ Scroll to bottom
        setTimeout(() => {
            chatContainer.scrollTop = chatContainer.scrollHeight;
        }, 50);

        // 4ï¸âƒ£ Keep cursor feel natural
        input.value = "";
        input.blur(); // avoids double typing glitch
    });
</script>

</body>
</html>



///////////////


<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Task Memory Chat</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
</head>
<body>

<h2>ğŸ’¬ Task Memory Chat</h2>

<div class="chat-wrapper">

    <!-- Chat Area -->
    <div class="chat-container" id="chat-container">

        <div class="chat-message ai">
            ğŸ‘‹ I remember everything you recorded. Ask me anything.
        </div>

        {% if chat_history %}
            {% for msg in chat_history %}
                <div class="chat-message {{ msg.role }}">
                    {{ msg.content }}
                </div>
            {% endfor %}
        {% endif %}

        <!-- Typing Indicator (hidden by default) -->
        <div class="chat-message ai typing" id="typing-indicator">
            <span></span><span></span><span></span>
        </div>

    </div>

    <!-- Input -->
    <form method="POST" class="chat-input" onsubmit="showTyping()">
        <input
            name="query"
            type="text"
            placeholder="Ask about your work..."
            autocomplete="off"
            required
        >
        <button type="submit">Send</button>
    </form>

</div>

<br>
<a href="/">â¬… Back</a>

<script>
    const chatContainer = document.getElementById("chat-container");
    chatContainer.scrollTop = chatContainer.scrollHeight;

    function showTyping() {
        document.getElementById("typing-indicator").style.display = "flex";
        setTimeout(() => {
            chatContainer.scrollTop = chatContainer.scrollHeight;
        }, 50);
    }
</script>

</body>
</html>




...............????

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Task Memory Chat</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
</head>
<body>

<h2>ğŸ’¬ Task Memory Chat</h2>

<!-- Chat Wrapper -->
<div class="chat-wrapper">

    <!-- Scrollable Chat Area -->
    <div class="chat-container">

        <!-- Greeting -->
        <div class="chat-message ai">
            ğŸ‘‹ I remember everything you recorded. Ask me anything.
        </div>

        {% if chat_history %}
            {% for msg in chat_history %}
                <div class="chat-message {{ msg.role }}">
                    {{ msg.content }}
                </div>
            {% endfor %}
        {% endif %}

    </div>

    <!-- Input Bar (fixed position relative to wrapper) -->
    <form method="POST" class="chat-input">
        <input
            name="query"
            type="text"
            placeholder="Ask about your work..."
            autocomplete="off"
            required
        >
        <button type="submit">Send</button>
    </form>

</div>

<br>
<a href="/">â¬… Back</a>

</body>
</html>



-------------------------------------<>



<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Task Query</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
</head>
<body>

    <h2>ğŸ” Task Query</h2>

    <!-- Chat Container -->
    <div class="chat-container">

        <!-- Initial system message -->
        <div class="chat-message ai">
            ğŸ‘‹ Ask me anything about your past work and Iâ€™ll summarize it for you.
        </div>

        <!-- AI Response -->
        {% if response %}
        <div class="chat-message ai">
            {{ response }}
        </div>
        {% endif %}

    </div>

    <!-- Chat Input -->
    <form method="POST" class="chat-input">
        <input
            name="query"
            type="text"
            placeholder="Ask about your past work..."
            required
        >
        <button type="submit">Send</button>
    </form>

    <br>
    <a href="/">â¬… Back</a>

</body>
</html>
